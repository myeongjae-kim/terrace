<pre class="sh"><code>#!/bin/sh
#
# Automatically add branch name and branch description to every commit message except merge commit.
# https://stackoverflow.com/a/18739064
#

COMMIT_EDITMSG=$1

addBranchNumber() {
  NAME=$(git branch | grep &#39;*&#39; | sed &#39;s/* //&#39;) 
    ISSUE_NUMBER=`echo $NAME | cut -d &#39;-&#39; -f1`
  DESCRIPTION=$(git config branch.&quot;$NAME&quot;.description)
  echo &quot;[#$ISSUE_NUMBER] $(cat $COMMIT_EDITMSG)&quot; &gt; $COMMIT_EDITMSG
  if [ -n &quot;$DESCRIPTION&quot; ] 
  then
     echo &quot;&quot; &gt;&gt; $COMMIT_EDITMSG
     echo $DESCRIPTION &gt;&gt; $COMMIT_EDITMSG
  fi 
}

MERGE=$(cat $COMMIT_EDITMSG|grep -i &#39;merge&#39;|wc -l)

if [ $MERGE -eq 0 ] ; then
  addBranchNumber
fi</code></pre>
